# -*- mode: sh; sh-shell: zsh;-*-

[[ -d $ZPLUG_HOME ]] || \
		{print 'Installing Zplug'
		 git clone https://github.com/b4b4r07/zplug $ZPLUG_HOME
		 zplug update --self}

source $ZPLUG_HOME/zplug

zplug "b4b4r07/zplug" # ZSH & CLI Package Manager

# Local Scripts
zplug "$ZDOTDIR/scripts", from:local, as:command

# Local Applications
zplug "$ZDOTDIR/desktop_apps/firefox-dev", \
			from:local, as:command, of:firefox, file:firefox-dev, \
			if:"[[ -d \"$ZDOTDIR/desktop_apps/firefox-dev\" ]]"

# Install missing plugins
if ! zplug check; then
    zplug install
fi

# source plugins and add commands to $PATH
zplug clear --force > /dev/null
zplug load

# update symlinks to relative paths
if [[ -d $ZDOTDIR/zplug/bin/ ]]; then
		symlinks -dc $ZDOTDIR/{zplug/bin/,zplug}
fi
